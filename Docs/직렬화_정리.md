# 직렬화(Serialization) 정리

## 1. 직렬화란?

- **직렬화**: 메모리에 있는 **객체**를 **파일/네트워크로 주고받을 수 있는 형태(문자열·바이트)** 로 바꾸는 것.
- **역직렬화**: 그 형태를 다시 읽어서 **객체로 복원**하는 것.

---

## 2. 왜 필요한가? (클래스/구조체를 그대로 못 보내는 이유)

- 객체(class, struct)는 **그 프로그램이 켜져 있는 동안, 그 컴퓨터의 메모리(RAM) 안에만** 존재한다.
- **저장(파일)**: 게임을 끄면 메모리는 비워진다. 디스크에는 **문자/바이트 나열(파일)** 만 남길 수 있다. → 객체를 **직렬화**해서 파일로 써야 한다.
- **전송(네트워크)**: 다른 기기는 **따로 메모리**를 가진다. “객체를 통째로 옮긴다”는 건 불가능하고, **바이트 스트림**만 보낼 수 있다. → 직렬화 후 전송, 받는 쪽에서 역직렬화.

**정리**: 객체는 “이 메모리”에만 있어서 그대로 넘길 수 없고, **넘길 수 있는 형태(문자열·바이트)로 바꾸는 것**이 직렬화다.

---

## 3. 비유

| 구분 | 비유 |
|------|------|
| **객체** | 책상 위에 펼쳐진 노트 (현재 상태만 메모리 안에 있음) |
| **직렬화** | 그 내용을 **편지(문자열/바이트)** 에 적어 넣는 것 → 저장/전송 가능 |
| **역직렬화** | 받은 편지를 읽고 **다시 노트(객체)** 로 정리하는 것 |

---

## 4. class vs struct

- **class**: 참조 타입. 변수는 “메모리 어딘가의 인스턴스”를 가리키는 **참조**.
- **struct**: 값 타입. 변수는 **그 값 자체**를 가진다.

둘 다 “타입의 인스턴스”이고, **메모리에 있는 데이터**라는 점은 같다.  
그래서 **저장/전송하려면 class든 struct든 직렬화**가 필요하다.

---

## 5. 게임에서의 사용 (Unity 예시)

- **저장**: `SaveData` 같은 객체 → `JsonUtility.ToJson()` → JSON 문자열 → `File.WriteAllText()` 로 파일 저장.
- **로드**: 파일 읽기 → JSON 문자열 → `JsonUtility.FromJson<SaveData>()` → 객체 복원 → 게임 상태에 반영.

직렬화까지 깊게 공부할 필요는 없고, **“객체 → 문자열/바이트로 바꿔서 저장·전송한다”** 는 흐름만 이해해도 충분하다.
